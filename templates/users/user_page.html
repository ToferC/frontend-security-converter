{% extends "base.html" %}

{% block title %}
    <title>{{ fluent(key="user-profile-for", lang=lang )}} {{ user.name }}</title>
{% endblock title %}

{% block content %}
    <div class="col m-md-2 m-1">
        <br>
        <h1>{{ fluent(key="user-profile-for", lang=lang )}} {{ user.name }}</h1>
        <div class="card card-body">
            <p>{{ fluent(key="user-details", lang=lang )}}</p>
    
                <p>{{ user.name }}</p>
    
                <p>{{ user.email }}</p>

                <p>{{ user.role }}</p>

                <p>{{ user.accessLevel }}</p>

                <h2>{{ fluent(key="account-options", lang=lang )}}</h2>
                <p>
                    {% if role == "admin" %}
                    <a class="btn btn-dark" href="/{{ lang }}/admin_edit_user/{{ user.id }}">{{ fluent(key="edit-as-admin", lang=lang )}}</a>
                    {% else %}
                    <a class="btn btn-dark" href="/{{ lang }}/edit_user/{{ user.id }}">{{ fluent(key="change-username-email", lang=lang )}}</a>
                    {% endif %}
                    <a class="btn btn-dark" href="/{{ lang }}/request_password_reset">{{ fluent(key="reset-password", lang=lang )}}</a>
                    <a class="btn btn-danger" href="/{{ lang }}/delete_user/{{ user.id }}">{{ fluent(key="delete-user", lang=lang )}}</a>
                </p>

        </div>
        <br>

        <h2>Authority</h2>
        <br>
        {% if user.authority %}
            <p>Authority: <a href="/{{ lang }}/authority/{{ user.authority.id }}">{{ user.authority.name }}</a></p>
            <p>Nation: {{ user.authority.nation.nationName }}</p>
            <p>Email: {{ user.authority.email }}</p>
            <p>Phone: {{ user.authority.phone }}</p>
        {% else %}
            <p>No Authority - ADMIN</p>
        {% endif %}

    </div>
{% endblock content %}

{% block scripts %}
<script>

</script>
{% endblock scripts %}